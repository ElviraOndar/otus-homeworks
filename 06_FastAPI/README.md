# FastAPI Real Madrid Blog

–ë–ª–æ–≥ –æ –º–∞–¥—Ä–∏–¥—Å–∫–æ–º "–†–µ–∞–ª–µ" –Ω–∞ **FastAPI** —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö **PostgreSQL** –≤–Ω—É—Ç—Ä–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å –º–æ–¥–µ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ—Å—Ç–æ–≤ –∏ —Ç–µ–≥–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å FastAPI, PostgreSQL –∏ Docker Compose. 

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–æ—Å—Ç–∞–º–∏ –∏ —Ç–µ–≥–∞–º–∏;
- API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ `/docs/`;
- –≤ `/posts/` –∏ `/posts/{post_id}` –¥–æ—Å—Ç—É–ø–Ω–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞;
- –≤ `/posts/info/all` –∏ `/posts/{post_id}` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å JSON —Å–æ –≤—Å–µ–º–∏ –ø–æ—Å—Ç–∞–º–∏, –ª–∏–±–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ—Å—Ç–æ–º;
- –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**

```bash
git clone https://github.com/ElviraOndar/otus-homeworks.git
cd otus-homeworks/06_FastAPI
```

**–°–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**

```bash

docker-compose up -d --build
```
## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

```bash
http://localhost:8001
```

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: http://localhost:8001/docs

HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ—Å—Ç–∞–º–∏: http://localhost:8001/posts

JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ—Å—Ç–æ–≤: http://localhost:8001/posts/info/all

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î

**1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤–Ω—É—Ç—Ä–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É:

```bash
docker exec -it real_fastapi python create_tables.py
```

**2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**

–ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É:

```bash
docker exec -it real_fastapi python seed_data.py
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
06_FastAPI/
‚îÇ‚îÄ‚îÄ db/  
‚îÇ   ‚îî‚îÄ‚îÄ session.py        # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î  
‚îÇ‚îÄ‚îÄ models/  
‚îÇ   ‚îú‚îÄ‚îÄ post.py           # –ú–æ–¥–µ–ª—å Post  
‚îÇ   ‚îú‚îÄ‚îÄ user.py           # –ú–æ–¥–µ–ª—å User  
‚îÇ   ‚îî‚îÄ‚îÄ tag.py            # –ú–æ–¥–µ–ª—å Tag  
‚îÇ‚îÄ‚îÄ static/  
‚îÇ   ‚îî‚îÄ‚îÄ style.css         # –°—Ç–∏–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞  
‚îÇ‚îÄ‚îÄ templates/  
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ—Å—Ç–æ–≤  
‚îÇ   ‚îú‚îÄ‚îÄ post_detail.html  # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ—Å—Ç–∞  
‚îÇ   ‚îî‚îÄ‚îÄ contacts.html     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏  
‚îÇ‚îÄ‚îÄ seed_data.py          # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
‚îÇ‚îÄ‚îÄ create_tables.py      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü  
‚îÇ‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚îÇ‚îÄ‚îÄ Dockerfile            # –û–ø–∏—Å–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  
‚îÇ‚îÄ‚îÄ docker-compose.yml    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ (real_web + real_db)  
‚îÇ‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞  
‚îÇ‚îÄ‚îÄ .env                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (DATABASE_URL) 

```

## ‚úÖ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

–°–µ—Ä–≤–µ—Ä Uvicorn –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–µ –Ω—É–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞ —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ –≤ Dockerfile.

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–Ω–æ, –ø–æ–¥–∫–ª—é—á–∏–≤—à–∏—Å—å –∫ –±–∞–∑–µ:

```bash
docker exec -it real_postgres psql -U user -d realdb
```
